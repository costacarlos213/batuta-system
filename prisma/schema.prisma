// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "mongodb"
  url      = env("LOCAL_DATABASE")
}

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["mongoDb"]
}

model Order {
  id           String   @id @default(dbgenerated()) @map("_id") @db.ObjectId
  cod          String
  customerName String?
  description  String?
  total        Float?
  delivery     String?
  payment      String?
  address      String?
  phone        String?
  comments     String?
  date         String?
  title        String?
  color        Colors?
  fileNames    String[]
  fileKeys     String[]
  fileSizes    Int[]
  vendor       User     @relation(fields: [vendorId], references: [id])
  vendorId     String   @db.ObjectId
}

model User {
  id       String  @id @default(dbgenerated()) @map("_id") @db.ObjectId
  name     String
  email    String  @unique
  password String?
  pixType  Pix?
  pixKey   String?
  role     Roles
  orders   Order[]
}

enum Pix {
  randomKey
  phone
  cpf
  email
}

enum Roles {
  admin
  vendor
}

enum Colors {
  green
  yellow
}
